# Mona for SaaS

[The Azure Marketplace is by nature an event-driven system.](https://learn.microsoft.com/partner-center/marketplace-offers/partner-center-portal/pc-saas-fulfillment-life-cycle) Customers purchase subscriptions to your SaaS app. Customers may change their subscriptions or purchase more seats. Sometimes customers cancel their subscriptions. Mona embraces this event-driven design by publishing all Marketplace-related events to an Event Grid topic deployed in your environment. [From there, you can handle the events however you want.](https://learn.microsoft.com/azure/event-grid/event-handlers) By default, Mona deploys a set of [Logic Apps](https://learn.microsoft.com/azure/logic-apps/logic-apps-overview) that enable you to control how your SaaS app responds to these Marketplace events in a simple low/no-code environment.

## Quickstart

### Clone this repo

[Open an Azure Cloud Shell, choose the Bash experience](https://learn.microsoft.com/azure/cloud-shell/get-started/ephemeral?tabs=azurecli#start-cloud-shell), and clone this repo. Navigate to the setup folder.

```bash
git clone https://github.com/microsoft/mona-saas
cd mona-saas/Mona.SaaS/Mona.SaaS.Setup
```

### Run the setup script

Run the `basic-deploy.sh` script to deploy Mona into your Azure environment. You'll need to provide two parameters:

* **Azure Location `(-r)`**: [The Azure region](https://azure.microsoft.com/explore/global-infrastructure/geographies/) where Mona will be deployed (e.g., `eastus`, `southeastasia`).
* **Deployment Name `(-n`)**: A unique name for your Mona deployment. It must be 5-13 alphanumeric characters (e.g., `monatest01`).

> For a complete list of Azure regions to choose from, run `az account list-locations -o table`.

#### Example

```bash
./basic-deploy.sh -r "eastus" -n "monatest01"
```

### Finish setting up Mona

Follow the link generated by the script to finalize the setup in your own Azure environment.
